!function(e,t,c){String.prototype.extTrim=function(e){var t=new RegExp("^"+e+"+|"+e+"+$","g");return t.test(this)?this.replace(t,""):this.toString()},String.prototype.quote_trim=function(){for(var e=new RegExp('^"(.*)?"$',"g"),t=this;e.test(t);)t=this.replace(e,"$1");return t.toString()},String.prototype.regExpReplace=function(e,t,c){c=c||"g";var n=new RegExp(e,c),l=this;return l=this.replace(n,t),l.toString()},String.prototype.trimDotes=function(){return this.extTrim("\\.")},Drupal.select2functions=Drupal.select2functions||{},Drupal.Select2=function(t){function c(){e.extend(!0,e.fn.select2.defaults,Drupal.Select2.Defaults),e.extend(!0,e.fn.select2.defaults,Drupal.settings.select_2.default_settings)}this.context=t,this.contextSettings=null,this.Defaults=Drupal.Select2.Defaults,this.functionsScopesNames=["Drupal.Select2.functionsScope","Drupal.select2functions"],c()},Drupal.Select2.Defaults=Drupal.Select2.Defaults||{adaptContainerCssClass:function(t){if(!Drupal.Select2.Defaults.classesListForCopyFromElement&&!Drupal.Select2.Defaults.classesExcludedForCopy)return clazz;switch(typeof Drupal.Select2.Defaults.classesListForCopyFromElement){case"string":if(t==Drupal.Select2.Defaults.classesListForCopyFromElement)return t;break;case"object":if(e.inArray(t,Drupal.Select2.Defaults.classesListForCopyFromElement)>=0)return t}return!1},classesListForCopyFromElement:["error"],width:"copy",predefineExcludions:[".tabledrag-hide select"]},Drupal.Select2.prototype.attachBehaviors=function(t){e.each(Drupal.behaviors,function(){e.isFunction(this.select2attach)&&this.select2attach(t)})},Drupal.Select2.functionsScope=Drupal.Select2.functionsScope||{},Drupal.Select2.functionsScope.baseCreateSearchChoice=function(e){return{id:e,text:e}},Drupal.Select2.functionsScope.formatSelectionTaxonomyTermsItem=function(e){return e.hover_title?e.hover_title:e.text},Drupal.Select2.functionsScope.formatSelection_taxonomy_terms_item=Drupal.Select2.functionsScope.formatSelectionTaxonomyTermsItem,Drupal.Select2.functionsScope.formatResultTaxonomyTermsItem=function(e){var t="",c="";return void 0!=e.hover_title&&(t='title="'+e.hover_title+'" ',c='<span class="visible-on-hover">'+e.hover_title+"</span>"),'<span class="taxonomy_terms_item" '+t+">"+e.text+" </span>"+c},Drupal.Select2.functionsScope.formatResult_taxonomy_terms_item=Drupal.Select2.functionsScope.formatResultTaxonomyTermsItem,Drupal.Select2.functionsScope.acFormatResult=function(e){return e.text},Drupal.Select2.functionsScope.ac_format_result=Drupal.Select2.functionsScope.acFormatResult,Drupal.Select2.functionsScope.acFielsFormatSelection=function(e){return e.text},Drupal.Select2.functionsScope.ac_fiels_FormatSelection=Drupal.Select2.functionsScope.acFielsFormatSelection,Drupal.Select2.functionsScope.acS2InitSelecttion=function(t,c){var n=e(t).select2("val");c({id:n,text:n})},Drupal.Select2.functionsScope.entityReferenceInitSelecttion=function(t,c){var n=e(t).select2("val"),l=e(t).data("select2"),s=!!l&&l.opts,o=!!s&&s.hideEntityIds,r=!!s&&s.comma_replacement;if("string"==typeof n){var a=n;a=a.quote_trim().replace(/"{2,}/g,'"'),o&&(a=a.replace(/\([0-9]+\)$/g,"")),r&&(a=a.regExpReplace("{"+r+"}",",")),c({id:n,text:a})}else if("object"==typeof n){data=[];for(var i=0;i<n.length;i++){var a=n[i];a=a.quote_trim().replace(/"{2,}/g,'"'),o&&(a=a.replace(/\([0-9]+\)$/g,"")),r&&(a=a.regExpReplace("{"+r+"}",",")),data.push({id:n[i],text:a})}c(data)}},Drupal.Select2.functionsScope.ac_s2_init_selecttion=Drupal.Select2.functionsScope.acS2InitSelecttion,Drupal.Select2.functionsScope.taxonomyTermRefAcS2InitSelecttion=function(t,c){var n=e(t).select2("val");if("string"==typeof n){var l=n;l=l.quote_trim().replace(/{{;}}/g,",").replace(/"{2,}/g,'"'),c({id:n,text:l})}else if("object"==typeof n){data=[];for(var s=0;s<n.length;s++){var l=n[s];l=l.quote_trim().replace(/{{;}}/g,",").replace(/"{2,}/g,'"'),data.push({id:n[s],text:l})}c(data)}},Drupal.Select2.functionsScope.taxonomy_term_ref_ac_s2_init_selecttion=Drupal.Select2.functionsScope.taxonomyTermRefAcS2InitSelecttion,Drupal.Select2.functionsScope.getAjaxObjectForAcElement=function(t){return{url:function(e){return t.path_is_absolute?t.autocomplete_path+Drupal.encodePath(e):Drupal.settings.basePath+t.autocomplete_path+"/"+Drupal.encodePath(e)},dataType:"json",quietMillis:100,results:function(t){var c=[];return e.each(t,function(e,t){c.push({id:e,text:t})}),{results:c}},params:{error:function(e,t,c){}}}},Drupal.Select2.functionsScope.ac_element_get_ajax_object=Drupal.Select2.functionsScope.getAjaxObjectForAcElement,Drupal.Select2.prototype.setContext=function(e,t){this.context=e,this.processElements()},Drupal.Select2.prototype.processElements=function(){this.markExcludedElements(),this.attachSelect2()},Drupal.Select2.prototype.markExcludedElements=function(){if(this.context){if(e.each(this.Defaults.predefineExcludions,function(t,c){e(c,this.context).once("select2-predefined-excludions").addClass("no-select2")}),Drupal.settings.select_2.excludes.by_selectors.length>0)for(i=0;i<Drupal.settings.select_2.excludes.by_selectors.length;++i)e(Drupal.settings.select_2.excludes.by_selectors[i],this.context).once("select2-excluded-by-selectors").addClass("no-select2");if(Drupal.settings.select_2.excludes.by_class.length>0){var t=Drupal.settings.select_2.excludes.by_class.join(", .");t="."+t;try{e(t,this.context).once("select2-excluded-by-classes").addClass("no-select2")}catch(c){throw"ERROR while setting exlution classes by classes list: "+c.message}}}},Drupal.Select2.prototype.attachSelect2=function(){this.context&&(Drupal.settings.select_2.process_all_selects_on_page&&e("select",this.context).once("select2-attach").atachSelect2(),e('select.use-select-2, input[type="text"].use-select-2, input[type="hidden"].use-select-2',this.context).once("select2-attach").atachSelect2())},Drupal.Select2.prototype.attachSelect2ToElement=function(n){if(!n.hasClass("no-select2")){var l=this,s=n.attr("id");if(n.id=s,this.checkElementForExclusions(n))return void n.addClass("no-select2");var o=Drupal.settings.select_2.elements[s]?Drupal.settings.select_2.elements[s]:{};o=this.prepareElementOptions(o,n),e(c).trigger("select2.alterElementOptions",[n,o]);try{n.select2(o)}catch(r){if("object"==typeof t.console&&"function"==typeof console.error)return void console.error("Error: "+r)}if(o.locked_ids){var a=n.select2("data"),i=!1;e.each(a,function(t){e.inArray(a[t].id,o.locked_ids)!=-1&&(a[t].locked=!0,i=!0)}),i&&n.select2("data",a)}Drupal.Select2Processor.attachBehaviors(n);var u=!1;if(o.events_handlers&&e.each(o.events_handlers,function(e,t){var c=l.getObjectOrFunctionByName(t);c&&"function"==typeof c&&n.on(e,c)}),void 0!=n.data("select2")&&(void 0!=n.data("select2").$container?u=n.data("select2").$container:void 0!=n.data("select2").container&&(u=n.data("select2").container)),u){var p=["element","copy"],f=u.outerWidth();o.width&&e.inArray(o.width,p)&&f<=6&&u.width("auto")}u&&o.jqui_sortable&&e.fn.sortable&&u.find("ul.select2-choices").sortable({containment:"parent",start:function(){n.select2("onSortStart")},update:function(){n.select2("onSortEnd")}})}},Drupal.Select2.prototype.searchFunctionInScope=function(t){var c=this,n=!1;return t=t.toString().trimDotes(),t.indexOf(".")>-1&&(n=this.getObjectOrFunctionByName(t))?n:(e.each(this.functionsScopesNames,function(e,l){if(n=c.getObjectOrFunctionByName(l+"."+t))return!1}),n)},Drupal.Select2.prototype.getObjectPropertyByName=function(e,t){if("undefined"==typeof e)return!1;var c=t.indexOf(".");return c>-1?this.getObjectPropertyByName(e[t.substring(0,c)],t.substr(c+1)):e[t]},Drupal.Select2.prototype.getObjectOrFunctionByName=function(e){return this.getObjectPropertyByName(t,e)},Drupal.Select2.prototype.prepareElementOptions=function(t,c){var n=this,l=["data","ajax","query","formatResult","formatSelection","initSelection","createSearchChoice"],s=c.prop("tagName"),o=e('option[value=""]',c).length>0&&e(e('option[value=""]',c).get(0)),r=!1;if(e.each(l,function(e,c){if(t[c]&&"string"==typeof t[c]){var l=n.searchFunctionInScope(t[c]);l&&("ajax"==c&&"function"==typeof l?t[c]=l(t):t[c]=l)}}),void 0!=t.selectedOnNewLines&&t.selectedOnNewLines&&(t.containerCssClass+=" one-option-per-line"),c.hasClass("filter-list")&&(t.allowClear=!1),(t.allowClear||o)&&(o&&(void 0==t.placeholder&&(t.placeholder=o.text()),r=!0),t.placeholder||c.attr("placeholder")?t.allowClear||(t.allowClear=!0,r&&o.html("")):t.allowClear=!1),t.allow_add_onfly&&(t.createSearchChoice=function(t,c){if(0===e(c).filter(function(){return 0===this.text.localeCompare(t)}).length)return{id:t,text:t}}),t.taxonomy_ref_ac_allowed&&(t.createSearchChoice=function(t,c){if(0===e(c).filter(function(){}).length)return{id:t,text:t}}),t.comma_replacement){var a=""+c.val();a=a.replace(/".*?"/g,function(e){return e.replace(/,/g,"{{;}}")}),c.val(a)}return"SELECT"==s&&(t.disabled_options&&e.each(t.disabled_options,function(t,n){e('option[value="'+n+'"]',c).prop("disabled",!0)}),t.jqui_sortable=!1),t},Drupal.Select2.prototype.checkElementForExclusions=function(t){if(!t.id)return!1;var c=Drupal.settings.select_2.excludes.by_id.values;if(e.inArray(t.id,c)>=0)return!0;if(Drupal.settings.select_2.excludes.by_id.reg_exs.length>0)for(i=0;i<Drupal.settings.select_2.excludes.by_id.reg_exs.length;++i){var n=new RegExp(Drupal.settings.select_2.excludes.by_id.reg_exs[i],"ig");if(n.test(t.id))return!0}return!1},e.fn.atachSelect2=function(){return this.each(function(t){if(Drupal.Select2Processor){var c=e(this);Drupal.Select2Processor.attachSelect2ToElement(c)}})},Drupal.behaviors.select2={attach:function(t,c){if("undefined"!=typeof e.fn.select2)if(Drupal.Select2Processor=Drupal.Select2Processor||new Drupal.Select2,Drupal.settings.select_2.settings_updated)Drupal.Select2Processor.setContext(t);else{Drupal.settings.select_2.settings_updated=!0;var n=Drupal.settings.basePath+"select2/ajax/get_settings";e.ajax(n).done(function(e){try{Drupal.settings.select_2.excludes=e[0].settings.select_2.excludes}catch(t){throw"ERROR while updating settings for select2: "+t.message}}).fail(function(){throw"Select2 setting update ajax request failed."}).always(function(){Drupal.Select2Processor.setContext(t)})}}}}(jQuery,window,document);
//# sourceMappingURL=maps/Drupal.select2.js.map
